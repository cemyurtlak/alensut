<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Trading Bot Panel (Telegram)</title>
  <style>
    :root{
      --bg:#0b1220;
      --card:#121a2c;
      --card2:#0f1728;
      --txt:#e8eefc;
      --muted:#aab7d6;
      --line:#233055;
      --btn:#2c6bff;
      --btn2:#2bd4a7;
      --warn:#ffcc00;
      --danger:#ff3b3b;
      --input:#0b1020;
      --shadow: 0 10px 26px rgba(0,0,0,.35);
      --radius: 14px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      background:linear-gradient(180deg, #060a14 0%, #0b1220 40%, #070b14 100%);
      color:var(--txt);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      padding:16px;
    }
    .wrap{max-width:1120px;margin:0 auto}
    .top{
      display:flex; gap:12px; align-items:center; justify-content:space-between;
      margin-bottom:14px;
      flex-wrap:wrap;
    }
    .title{
      display:flex; flex-direction:column; gap:2px;
    }
    h1{font-size:18px;margin:0;font-weight:750;letter-spacing:.2px}
    .sub{color:var(--muted); font-size:12.5px; line-height:1.25}
    .grid{
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap:14px;
    }
    @media (max-width: 980px){
      .grid{grid-template-columns:1fr}
    }
    .card{
      background:linear-gradient(180deg, rgba(18,26,44,.92) 0%, rgba(15,23,40,.92) 100%);
      border:1px solid rgba(35,48,85,.75);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:14px;
    }
    .card h2{
      margin:0 0 10px 0;
      font-size:14px;
      letter-spacing:.2px;
      color:#f2f6ff;
    }
    .row{display:flex; gap:10px; flex-wrap:wrap}
    .col{flex:1; min-width:180px}
    label{
      display:block;
      color:var(--muted);
      font-size:12px;
      margin:8px 0 6px;
    }
    input, select, textarea{
      width:100%;
      background:rgba(11,16,32,.9);
      border:1px solid rgba(35,48,85,.9);
      color:var(--txt);
      border-radius:12px;
      padding:10px 10px;
      outline:none;
      font-size:13px;
    }
    textarea{min-height:84px; resize:vertical}
    .btnrow{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px}
    button{
      border:0;
      border-radius:12px;
      padding:10px 12px;
      font-weight:700;
      cursor:pointer;
      color:white;
      background:var(--btn);
      box-shadow: 0 8px 18px rgba(44,107,255,.22);
      font-size:13px;
    }
    button.secondary{background:#34415f; box-shadow:none}
    button.good{background:var(--btn2); box-shadow: 0 8px 18px rgba(43,212,167,.18)}
    button.warn{background:var(--warn); color:#111; box-shadow:none}
    button.danger{background:var(--danger); box-shadow: 0 8px 18px rgba(255,59,59,.18)}
    .pill{
      display:inline-flex; gap:8px; align-items:center;
      padding:6px 10px; border-radius:999px;
      background:rgba(35,48,85,.55);
      border:1px solid rgba(35,48,85,.9);
      color:var(--muted); font-size:12px;
    }
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;}
    .sep{height:1px; background:rgba(35,48,85,.9); margin:12px 0}
    .hint{color:var(--muted); font-size:12px; line-height:1.35}
    .kbd{padding:2px 6px; border:1px solid rgba(35,48,85,.9); border-bottom-width:2px; border-radius:8px; background:rgba(11,16,32,.9); color:#d7e2ff}
    .small{font-size:12px;color:var(--muted)}
    .switch{
      display:flex; align-items:center; gap:10px;
      padding:10px; border-radius:12px;
      border:1px solid rgba(35,48,85,.9);
      background:rgba(11,16,32,.55);
      margin-top:10px;
    }
    .switch input[type="checkbox"]{
      width:18px;height:18px;margin:0;
      accent-color: #2bd4a7;
    }
    .switch b{font-size:13px}
    .rightStack .card{margin-bottom:14px}
    .dangerText{color:#ffd2d2}
  </style>
</head>
<body>
<div class="wrap">

  <div class="top">
    <div class="title">
      <h1>Trading Bot Panel (Telegram Ãœzerinden Kontrol)</h1>
      <div class="sub">
        Bu panel Telegram grubuna komut gÃ¶nderir. Bot yanÄ±tlarÄ±nÄ± grupta gÃ¶rÃ¼rsÃ¼nÃ¼z.<br/>
        Komut protokolÃ¼ <span class="mono">/bot ...</span> ÅŸeklindedir. Python kodunu daha sonra bu protokole gÃ¶re uyumlu yazacaÄŸÄ±z.
      </div>
    </div>
    <div class="pill">
      <span>GÃ¶nderim yÃ¶ntemi:</span>
      <span class="mono">Image Beacon</span>
    </div>
  </div>

  <div class="grid">
    <!-- LEFT: SETTINGS -->
    <div class="card">
      <h2>1) Telegram BaÄŸlantÄ±</h2>

      <div class="row">
        <div class="col">
          <label>Bot Token</label>
          <input id="token" placeholder="7480663214:AAFIhwzCA-2ZFw3pjOadF4NQB3PdnIt-qvM" />
          <div class="small">Ä°steÄŸe baÄŸlÄ±: localStorage'a kaydedilir.</div>
        </div>
        <div class="col">
          <label>Chat ID (Grup ID)</label>
          <input id="chatId" placeholder="-1002258204961" />
          <div class="small">Senin Ã¶rneÄŸinde: -1002258204961</div>
        </div>
      </div>

      <div class="btnrow">
        <button class="secondary" onclick="saveCreds()">Kaydet</button>
        <button class="secondary" onclick="loadCreds()">KaydÄ± YÃ¼kle</button>
        <button class="warn" onclick="clearCreds()">KaydÄ± Temizle</button>
      </div>

      <div class="sep"></div>

      <h2>2) Temel Kontroller</h2>
      <div class="btnrow">
        <button class="good" onclick="sendOne('/bot trade ac')">GerÃ§ek Ä°ÅŸlem AÃ‡</button>
        <button class="danger" onclick="sendOne('/bot trade kapat')">GerÃ§ek Ä°ÅŸlem KAPAT</button>
        <button class="secondary" onclick="sendOne('/bot durum')">Durum Sorgula</button>
        <button class="secondary" onclick="sendOne('/bot ayarlar')">AyarlarÄ± Yaz</button>
      </div>
      <div class="hint">
        <span class="kbd">/bot durum</span> ve <span class="kbd">/bot ayarlar</span> cevaplarÄ± Telegram grubuna dÃ¼ÅŸer.
      </div>

      <div class="sep"></div>

      <h2>3) Ä°ÅŸlem AyarlarÄ±</h2>

      <div class="row">
        <div class="col">
          <label>Sembol (TV)</label>
          <input id="sym" value="BTCUSDT.P" />
        </div>
        <div class="col">
          <label>KaldÄ±raÃ§ (x)</label>
          <input id="lev" type="number" min="1" step="1" value="20" />
        </div>
      </div>

      <div class="row">
        <div class="col">
          <label>Miktar Tipi</label>
          <select id="amtType">
            <option value="PERCENT">Bakiye %</option>
            <option value="USDT">USDT</option>
          </select>
        </div>
        <div class="col">
          <label>Miktar DeÄŸeri</label>
          <input id="amtVal" type="number" min="0" step="0.01" value="50" />
        </div>
      </div>

      <div class="btnrow">
        <button onclick="applyTradeSettings()">Bu AyarlarÄ± Uygula</button>
        <button class="secondary" onclick="sendOne('/bot sembol ' + getVal('sym'))">Sembol Uygula</button>
        <button class="secondary" onclick="sendOne('/bot kaldirac ' + getVal('lev'))">KaldÄ±raÃ§ Uygula</button>
      </div>

      <div class="sep"></div>

      <h2>4) Maker AyarlarÄ±</h2>
      <div class="switch">
        <input id="mkBuy" type="checkbox" />
        <div>
          <b>AlÄ±mÄ± Maker Yap</b>
          <div class="small">post-only limit + timeout + market fallback</div>
        </div>
      </div>
      <div class="switch">
        <input id="mkSell" type="checkbox" />
        <div>
          <b>SatÄ±ÅŸÄ± Maker Yap</b>
          <div class="small">post-only limit + timeout + market fallback</div>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <label>AL Offset (%)</label>
          <input id="mkBuyOffset" type="number" step="0.0001" value="0.02" />
        </div>
        <div class="col">
          <label>AL Timeout (sn)</label>
          <input id="mkBuyTimeout" type="number" step="0.1" value="8" />
        </div>
        <div class="col">
          <label>AL Fallback (Market)</label>
          <select id="mkBuyFb">
            <option value="1">AÃ§Ä±k</option>
            <option value="0">KapalÄ±</option>
          </select>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <label>SAT Offset (%)</label>
          <input id="mkSellOffset" type="number" step="0.0001" value="0.02" />
        </div>
        <div class="col">
          <label>SAT Timeout (sn)</label>
          <input id="mkSellTimeout" type="number" step="0.1" value="6" />
        </div>
        <div class="col">
          <label>SAT Fallback (Market)</label>
          <select id="mkSellFb">
            <option value="1">AÃ§Ä±k</option>
            <option value="0">KapalÄ±</option>
          </select>
        </div>
      </div>

      <div class="btnrow">
        <button onclick="applyMakerSettings()">Maker AyarlarÄ±nÄ± Uygula</button>
        <button class="secondary" onclick="sendOne('/bot maker al ' + (getChk('mkBuy')?'ac':'kapat'))">AL Maker AÃ§/Kapat</button>
        <button class="secondary" onclick="sendOne('/bot maker sat ' + (getChk('mkSell')?'ac':'kapat'))">SAT Maker AÃ§/Kapat</button>
      </div>

      <div class="sep"></div>

      <h2>5) STOP AyarlarÄ±</h2>
      <div class="switch">
        <input id="stopEn" type="checkbox" />
        <div>
          <b>STOP Aktif</b>
          <div class="small">Webhook STOP_* + Local Stop takip</div>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <label>Stop Modu</label>
          <select id="stopMode">
            <option value="PCT">YÃ¼zde (%)</option>
            <option value="PRICE">Fiyat</option>
          </select>
        </div>
        <div class="col">
          <label>Stop %</label>
          <input id="stopPct" type="number" step="0.01" value="1.4" />
        </div>
        <div class="col">
          <label>Stop Fiyat</label>
          <input id="stopPrice" type="number" step="0.01" value="88900" />
        </div>
      </div>

      <div class="btnrow">
        <button onclick="applyStopSettings()">STOP AyarlarÄ±nÄ± Uygula</button>
        <button class="secondary" onclick="sendOne('/bot stop ' + (getChk('stopEn')?'ac':'kapat'))">STOP AÃ§/Kapat</button>
      </div>

      <div class="sep"></div>

      <h2>6) Mirror Coin (BTC sinyaline baÄŸlÄ± ikinci coin)</h2>
      <div class="switch">
        <input id="mirEn" type="checkbox" checked />
        <div>
          <b>Mirror Aktif</b>
          <div class="small">BTC OPEN/CLOSE sinyallerine baÄŸlÄ± olarak ikinci coin aÃ§/kapat</div>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <label>Mirror Sembol</label>
          <input id="mirSym" value="ETHUSDT.P" />
        </div>
        <div class="col">
          <label>Mirror KaldÄ±raÃ§ (x)</label>
          <input id="mirLev" type="number" min="1" step="1" value="10" />
        </div>
      </div>

      <div class="row">
        <div class="col">
          <label>Mirror Miktar Tipi</label>
          <select id="mirAmtType">
            <option value="PERCENT">Bakiye %</option>
            <option value="USDT">USDT</option>
          </select>
        </div>
        <div class="col">
          <label>Mirror Miktar DeÄŸeri</label>
          <input id="mirAmtVal" type="number" min="0" step="0.01" value="25" />
        </div>
      </div>

      <div class="switch">
        <input id="mirStop" type="checkbox" />
        <div>
          <b>Mirror STOP Aktif (opsiyonel)</b>
          <div class="small dangerText">Ã–nerilen kullanÄ±m: Mirror STOP kapalÄ± (BTC stop olunca mirror close sinyali ile kapanÄ±r)</div>
        </div>
      </div>

      <div class="btnrow">
        <button onclick="applyMirrorSettings()">Mirror AyarlarÄ±nÄ± Uygula</button>
        <button class="secondary" onclick="sendOne('/bot mirror ' + (getChk('mirEn')?'ac':'kapat'))">Mirror AÃ§/Kapat</button>
      </div>

      <div class="sep"></div>

      <h2>7) TradingView Yenileme</h2>
      <div class="row">
        <div class="col">
          <label>TradingView URL</label>
          <input id="tvUrl" placeholder="https://tr.tradingview.com/chart/..." />
        </div>
      </div>

      <div class="btnrow">
        <button class="secondary" onclick="sendOne('/bot tv url ' + getVal('tvUrl'))">TV URL Kaydet</button>
        <button onclick="sendOne('/bot tv baslat')">TV Otomatik Yenile BaÅŸlat</button>
        <button class="secondary" onclick="sendOne('/bot tv durdur')">TV Otomatik Yenile Durdur</button>
        <button class="warn" onclick="sendOne('/bot yenile')">Manuel Yenile</button>
      </div>

      <div class="hint">
        Panel komutlarÄ±: webhook gelince â€œhemen yenile + sonraki mum aÃ§Ä±lÄ±ÅŸÄ±nda tekrar yenileâ€ davranÄ±ÅŸÄ±nÄ± Python tarafÄ±na ekleyeceÄŸiz.
        Telegramâ€™dan da <span class="kbd">/bot yenile</span> ile Ã§alÄ±ÅŸacak.
      </div>

      <div class="sep"></div>

      <h2>8) HÄ±zlÄ± Ä°ÅŸlemler (Manuel)</h2>
      <div class="btnrow">
        <button class="warn" onclick="sendOne('/bot hizli long')">âš¡ HÄ±zlÄ± LONG AÃ§</button>
        <button class="warn" onclick="sendOne('/bot hizli short')">âš¡ HÄ±zlÄ± SHORT AÃ§</button>
        <button class="danger" onclick="sendOne('/bot close all')">ğŸš¨ TÃœM POZÄ°SYONLARI KAPAT</button>
      </div>

      <div class="sep"></div>

      <h2>9) Hepsini Tek Seferde Uygula</h2>
      <div class="hint">
        Bu buton, ayarlarÄ± sÄ±rasÄ±yla birkaÃ§ mesaj halinde gÃ¶nderir.
        Bot tarafÄ±nda her mesajÄ± iÅŸleyip ayarlarÄ± set edeceÄŸiz.
      </div>
      <div class="btnrow">
        <button class="good" onclick="applyAll()">TÃ¼m AyarlarÄ± Uygula</button>
        <button class="secondary" onclick="sendOne('/bot yardim')">Komut YardÄ±mÄ±</button>
      </div>
    </div>

    <!-- RIGHT: COMMAND / ADV -->
    <div class="rightStack">
      <div class="card">
        <h2>HÄ±zlÄ± Komut GÃ¶nder</h2>
        <label>Elle Komut (Tek satÄ±r)</label>
        <input id="rawCmd" placeholder="/bot ayarlar" />
        <div class="btnrow">
          <button onclick="sendOne(getVal('rawCmd'))">GÃ¶nder</button>
          <button class="secondary" onclick="fillExample()">Ã–rnek Doldur</button>
        </div>
        <div class="hint">
          Ã–rnek: <span class="mono">/bot mirror ac</span> veya <span class="mono">/bot maker al ac</span>
        </div>
      </div>

      <div class="card">
        <h2>Komut ProtokolÃ¼ (Python ile uyum)</h2>
        <div class="hint">
          Bu panel aÅŸaÄŸÄ±daki komutlarÄ± gÃ¶nderir. Sonraki adÄ±mda Python kodunu buna gÃ¶re yazacaÄŸÄ±z:
          <ul>
            <li><span class="mono">/bot trade ac</span> | <span class="mono">/bot trade kapat</span></li>
            <li><span class="mono">/bot durum</span> | <span class="mono">/bot ayarlar</span> | <span class="mono">/bot yardim</span></li>
            <li><span class="mono">/bot sembol BTCUSDT.P</span></li>
            <li><span class="mono">/bot kaldirac 20</span></li>
            <li><span class="mono">/bot miktar tip PERCENT</span> + <span class="mono">/bot miktar deger 50</span></li>
            <li><span class="mono">/bot maker al ac/kapat</span> + sayÄ±sal maker alanlarÄ±</li>
            <li><span class="mono">/bot stop ac/kapat</span> + <span class="mono">/bot stop mod PCT/PRICE</span> + deÄŸerler</li>
            <li><span class="mono">/bot mirror ac/kapat</span> + mirror alanlarÄ±</li>
            <li><span class="mono">/bot tv baslat/durdur</span> + <span class="mono">/bot tv url ...</span> + <span class="mono">/bot yenile</span></li>
            <li><span class="mono">/bot hizli long</span> | <span class="mono">/bot hizli short</span> | <span class="mono">/bot close all</span></li>
          </ul>
          YanÄ±tlar Telegram grubunda gÃ¶rÃ¼necek ÅŸekilde bot tarafÄ±ndan gÃ¶nderilecek.
        </div>
      </div>

      <div class="card">
        <h2>Notlar</h2>
        <div class="hint">
          <div class="mono">1) Bu panel sadece mesaj gÃ¶nderir (yanÄ±t okuma yok).</div>
          <div class="mono">2) Token public ise botun kendisi ele geÃ§irilebilir; kabul ettiÄŸini not ettim.</div>
          <div class="mono">3) Komutlar gruptaki herkes tarafÄ±ndan gÃ¶nderilebilir; Python tarafÄ±nda da herkesin komutuna izin vereceÄŸiz.</div>
        </div>
      </div>
    </div>

  </div>
</div>

<script>
  function enc(x){ return encodeURIComponent(String(x ?? "")); }

  function getVal(id){
    const el = document.getElementById(id);
    return (el && el.value != null) ? String(el.value).trim() : "";
  }
  function getChk(id){
    const el = document.getElementById(id);
    return !!(el && el.checked);
  }

  function getCreds(){
    const token = getVal("token");
    const chatId = getVal("chatId");
    if(!token || !chatId){
      alert("Bot Token ve Chat ID gerekli.");
      return null;
    }
    return {token, chatId};
  }

  // CORSâ€™a takÄ±lmamak iÃ§in Image beacon
  function sendOne(text){
    const creds = getCreds();
    if(!creds) return;

    const msg = String(text ?? "").trim();
    if(!msg){
      alert("GÃ¶nderilecek komut boÅŸ.");
      return;
    }

    const url =
      "https://api.telegram.org/bot" + enc(creds.token) +
      "/sendMessage?chat_id=" + enc(creds.chatId) +
      "&text=" + enc(msg);

    const img = new Image();
    img.src = url + "&_ts=" + Date.now();

    // UI feedback (yanÄ±tÄ± okuyamÄ±yoruz)
    console.log("SENT:", msg);
  }

  function sendMany(lines, delayMs=650){
    const cmds = (lines || []).map(x=>String(x).trim()).filter(Boolean);
    let i = 0;
    const tick = ()=>{
      if(i >= cmds.length) return;
      sendOne(cmds[i]);
      i++;
      setTimeout(tick, delayMs);
    };
    tick();
  }

  function saveCreds(){
    localStorage.setItem("tb_token", getVal("token"));
    localStorage.setItem("tb_chatId", getVal("chatId"));
    alert("Kaydedildi.");
  }
  function loadCreds(){
    const t = localStorage.getItem("tb_token") || "";
    const c = localStorage.getItem("tb_chatId") || "";
    document.getElementById("token").value = t;
    document.getElementById("chatId").value = c;
    alert("YÃ¼klendi.");
  }
  function clearCreds(){
    localStorage.removeItem("tb_token");
    localStorage.removeItem("tb_chatId");
    alert("Temizlendi.");
  }

  function applyTradeSettings(){
    const sym = getVal("sym") || "BTCUSDT.P";
    const lev = getVal("lev") || "20";
    const t = getVal("amtType") || "PERCENT";
    const v = getVal("amtVal") || "50";

    sendMany([
      "/bot sembol " + sym,
      "/bot kaldirac " + lev,
      "/bot miktar tip " + t,
      "/bot miktar deger " + v
    ]);
  }

  function applyMakerSettings(){
    const buy = getChk("mkBuy") ? "ac" : "kapat";
    const sell = getChk("mkSell") ? "ac" : "kapat";

    const bo = getVal("mkBuyOffset") || "0.02";
    const bt = getVal("mkBuyTimeout") || "8";
    const bfb = getVal("mkBuyFb") || "1";

    const so = getVal("mkSellOffset") || "0.02";
    const st = getVal("mkSellTimeout") || "6";
    const sfb = getVal("mkSellFb") || "1";

    sendMany([
      "/bot maker al " + buy,
      "/bot maker sat " + sell,
      "/bot maker al offset " + bo,
      "/bot maker al timeout " + bt,
      "/bot maker al fallback " + bfb,
      "/bot maker sat offset " + so,
      "/bot maker sat timeout " + st,
      "/bot maker sat fallback " + sfb
    ]);
  }

  function applyStopSettings(){
    const en = getChk("stopEn") ? "ac" : "kapat";
    const mode = getVal("stopMode") || "PCT";
    const pct = getVal("stopPct") || "1.4";
    const price = getVal("stopPrice") || "88900";

    sendMany([
      "/bot stop " + en,
      "/bot stop mod " + mode,
      "/bot stop pct " + pct,
      "/bot stop fiyat " + price
    ]);
  }

  function applyMirrorSettings(){
    const en = getChk("mirEn") ? "ac" : "kapat";
    const sym = getVal("mirSym") || "ETHUSDT.P";
    const lev = getVal("mirLev") || "10";
    const t = getVal("mirAmtType") || "PERCENT";
    const v = getVal("mirAmtVal") || "25";
    const stop = getChk("mirStop") ? "1" : "0";

    sendMany([
      "/bot mirror " + en,
      "/bot mirror sembol " + sym,
      "/bot mirror kaldirac " + lev,
      "/bot mirror miktar tip " + t,
      "/bot mirror miktar deger " + v,
      "/bot mirror stop " + stop
    ]);
  }

  function applyAll(){
    const tvUrl = getVal("tvUrl");
    const cmds = [];

    // temel trade
    cmds.push("/bot sembol " + (getVal("sym") || "BTCUSDT.P"));
    cmds.push("/bot kaldirac " + (getVal("lev") || "20"));
    cmds.push("/bot miktar tip " + (getVal("amtType") || "PERCENT"));
    cmds.push("/bot miktar deger " + (getVal("amtVal") || "50"));

    // maker
    cmds.push("/bot maker al " + (getChk("mkBuy") ? "ac" : "kapat"));
    cmds.push("/bot maker sat " + (getChk("mkSell") ? "ac" : "kapat"));
    cmds.push("/bot maker al offset " + (getVal("mkBuyOffset") || "0.02"));
    cmds.push("/bot maker al timeout " + (getVal("mkBuyTimeout") || "8"));
    cmds.push("/bot maker al fallback " + (getVal("mkBuyFb") || "1"));
    cmds.push("/bot maker sat offset " + (getVal("mkSellOffset") || "0.02"));
    cmds.push("/bot maker sat timeout " + (getVal("mkSellTimeout") || "6"));
    cmds.push("/bot maker sat fallback " + (getVal("mkSellFb") || "1"));

    // stop
    cmds.push("/bot stop " + (getChk("stopEn") ? "ac" : "kapat"));
    cmds.push("/bot stop mod " + (getVal("stopMode") || "PCT"));
    cmds.push("/bot stop pct " + (getVal("stopPct") || "1.4"));
    cmds.push("/bot stop fiyat " + (getVal("stopPrice") || "88900"));

    // mirror
    cmds.push("/bot mirror " + (getChk("mirEn") ? "ac" : "kapat"));
    cmds.push("/bot mirror sembol " + (getVal("mirSym") || "ETHUSDT.P"));
    cmds.push("/bot mirror kaldirac " + (getVal("mirLev") || "10"));
    cmds.push("/bot mirror miktar tip " + (getVal("mirAmtType") || "PERCENT"));
    cmds.push("/bot mirror miktar deger " + (getVal("mirAmtVal") || "25"));
    cmds.push("/bot mirror stop " + (getChk("mirStop") ? "1" : "0"));

    // tv url (opsiyonel)
    if(tvUrl){
      cmds.push("/bot tv url " + tvUrl);
    }

    // ayarlarÄ± yazdÄ±r (opsiyonel)
    cmds.push("/bot ayarlar");

    sendMany(cmds, 550);
  }

  function fillExample(){
    document.getElementById("rawCmd").value = "/bot mirror ac";
  }

  // Auto-load creds on first open (if exists)
  (function init(){
    const t = localStorage.getItem("tb_token");
    const c = localStorage.getItem("tb_chatId");
    if(t) document.getElementById("token").value = t;
    if(c) document.getElementById("chatId").value = c;
  })();
</script>

</body>
</html>
